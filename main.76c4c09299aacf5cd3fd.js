(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(){return 0===document.querySelectorAll(".todo-item").length?v.disabled=!0:v.disabled=!1}t.d({},{I:()=>v});var o="todos";function n(){var t=sessionStorage.getItem(o);return t?JSON.parse(t):[]}var d=function(t){var d=document.createElement("li");d.classList.add("todo-item");var r=document.createElement("span");r.innerText=t,r.classList.add("todo-text"),d.appendChild(r);var s=document.createElement("button");s.innerHTML='<i class="fas fa-check"></i>',s.classList.add("todo-check-button"),s.addEventListener("click",function(t){return function(e){e.preventDefault(),console.log(t.innerText),t.classList.toggle("todo-item_completed")}}(d)),d.appendChild(s),s.addEventListener("click",(function(){return function(t){for(var e=n(),d=0;d<e.length;d++)e[d].todotext===t.innerText&&("uncompleted"===e[d].status?e[d].status="completed":e[d].status="uncompleted");sessionStorage.setItem(o,JSON.stringify(e))}(d)}));var i=document.createElement("button");return i.innerHTML='<i class="fas fa-trash"></i>',i.classList.add("todo-remove-button"),i.addEventListener("click",function(t){return function(d){d.preventDefault(),t.classList.add("todo-item_fall"),t.addEventListener("transitionend",(function(){!function(t){var d=n(),r=Array.from(t.childNodes).find((function(t){return t.classList.contains("todo-text")}));if(r){var s=d.filter((function(t){return t.todotext!==r.innerText}));sessionStorage.setItem(o,JSON.stringify(s))}e()}(t),t.remove()}))}}(d)),d.appendChild(i),d};function r(t){return{todoInput:t.querySelector(".todo-input"),todoHelper:t.querySelector(".todo-helper"),todoButton:t.querySelector(".todo-button")}}function s(t){var e=r(t),o=e.todoInput,n=e.todoHelper;o.value.length>=3?n.classList.remove("todo-helper_visible"):n.classList.add("todo-helper_visible")}function i(t){var e=r(t),o=e.todoInput,n=(e.todoHelper,e.todoButton);o.value.length>=3?n.classList.remove("todo-button_disabled"):n.classList.add("todo-button_disabled")}var a=document.querySelector(".todo-input-wrapper"),l=r(a),c=l.todoInput,u=l.todoButton,p=document.querySelector(".todo-list"),v=document.querySelector(".todo-select");document.addEventListener("DOMContentLoaded",(function(t){t.preventDefault(),n().forEach((function(t){var e=d(t.todotext);p.appendChild(e),console.log(t.status),"completed"===t.status&&e.classList.add("todo-item_completed")})),e(),i(a)})),c.addEventListener("input",(function(){return i(a)})),u.addEventListener("click",(function(t){var e,s;t.preventDefault(),s={todotext:c.value,status:"uncompleted"},(e=n()).push(s),sessionStorage.setItem(o,JSON.stringify(e));var i=d(c.value);p.appendChild(i),function(t){var e=r(t),o=e.todoInput,n=e.todoHelper,d=e.todoButton;o.value="",d.classList.add("todo-button_disabled"),n.classList.remove("todo-helper_visible")}(a)})),c.addEventListener("focus",(function(){return s(a)})),c.addEventListener("blur",(function(){return function(t){var e=r(t);e.todoInput,e.todoHelper.classList.remove("todo-helper_visible")}(a)})),c.addEventListener("input",(function(){return s(a)})),u.addEventListener("click",e),c.addEventListener("keydown",(function(t){if(13===t.keyCode&&t.target.value.length<3)return t.preventDefault(),!1})),v.addEventListener("change",(function(t){var e,o;e=p.childNodes,o=t.target.value,e.length&&e.forEach((function(t){switch(o){case"completed":t.classList.contains("todo-item_completed")?t.style.display="flex":t.style.display="none";break;case"uncompleted":t.classList.contains("todo-item_completed")?t.style.display="none":t.style.display="flex";break;default:return void(t.style.display="flex")}}))}))})();